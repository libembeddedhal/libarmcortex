<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.96.0"><meta name=generator content="Relearn 2.9.2
"><meta name=description content><title>embed::cortex_m::system_control :: libarmcortex docs</title><link href=/libarmcortex/css/nucleus.css?1648989002 rel=stylesheet><link href=/libarmcortex/css/fontawesome-all.min.css?1648989002 rel=stylesheet><link href=/libarmcortex/css/featherlight.min.css?1648989002 rel=stylesheet><link href=/libarmcortex/css/perfect-scrollbar.min.css?1648989002 rel=stylesheet><link href=/libarmcortex/css/auto-complete.css?1648989002 rel=stylesheet><link href=/libarmcortex/css/theme.css?1648989002 rel=stylesheet><link href=/libarmcortex/css/theme-red.css?1648989002 rel=stylesheet><link href=/libarmcortex/css/variant.css?1648989002 rel=stylesheet><link href=/libarmcortex/css/print.css?1648989002 rel=stylesheet media=print><script src=/libarmcortex/js/jquery.min.js?1648989002></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=/libarmcortex/api/classes/classembed_1_1cortex__m_1_1system__control/><script>var index_url="/libarmcortex/index.json",root_url="/",baseUri=root_url.replace(/\/$/,'')</script><nav id=sidebar><div id=header-wrapper><div id=header><a id=logo href=/libarmcortex/ style="color:#3d414d;font-family:work sans,helvetica,tahoma,geneva,arial,sans-serif;font-size:30px;font-weight:300;margin-top:-2px;text-transform:uppercase"><svg id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 310.797 310.797" style="enable-background:new 0 0 310.797 310.797;width:50%"><g><path d="M208.859 27.307 208.8 11.308 189.311.0l-87.893 51.407.11 19.635L63.697 93.104l.073 47.457-18.592 11.161-.155 101.334 20.214 11.833 12.422-7.502 18.173 11.395v30.12l20.075 11.895 87.333-50.921-.053-21.302 45.583-26.463v-38.133l17.004-10.152V60.551L208.859 27.307zm-21.557 6.085 6.559-3.846.048 23.674-6.607 3.86V33.392zM158.816 50.059l6.558-3.836.049 23.653-6.606 3.86V50.059zm-29.643 17.33 6.558-3.844.049 23.68-6.606 3.871V67.389zM101.529 87.725l-.049 13.891 20.164 11.813 87.158-51.046.095-17.363 23.033 14.225-107.389 63.021L83.517 98.361l18.012-10.636zM73.18 167.153l20.375-12.225-.105 7.768-20.383 12.171.113-7.714zM72.604 203.263l.018-1.205 20.374-12.225-.105 7.768-20.382 12.17L72.604 203.263zM72.846 242.79l.113-7.716 19.222-11.532-.106 7.768-19.229 11.48zm43.924 21.416-24.647-15.455 14.838-8.553.311-101.059-20.912-12.13-7.59 4.552v-18.703l38 22.237V264.206zm6.706 25.577.086-4.327 6.5-3.833.02 4.32L123.476 289.783zm29.643-17.314v-4.324l6.603-3.849.004 4.303-6.607 3.87zm28.487-16.641v-4.336l6.602-3.861.004 4.296L181.606 255.828zm52.164-51.621-102 59.915V134.869l102-59.72V204.207zm18.042-49.549-3.042 1.85v-7.696l3.167-1.964-.125 7.81zm-3.042-31.371v-7.695l3.151-1.969.139 7.721L248.77 123.287zm3.493-36.656-3.493 2.086v-7.694l3.599-2.159L252.263 86.631z"/></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></svg></br><svg viewBox="0 0 300 25"><text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle">libarmcortex</text></svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script src=/libarmcortex/js/lunr.min.js?1648989002></script>
<script src=/libarmcortex/js/auto-complete.js?1648989002></script>
<script src=/libarmcortex/js/search.js?1648989002></script></div><div id=homelinks><ul><li><a class=padding href=/libarmcortex/><i class="fas fa-home"></i> Home</a></li></ul></div><div class=highlightable><ul class=topics><li data-nav-id=/libarmcortex/guides/ title=Guides class=dd-item><a href=/libarmcortex/guides/><b>2. </b>Guides</a><ul><li data-nav-id=/libarmcortex/guides/using_interrupts/ title="Using Interrupts" class=dd-item><a href=/libarmcortex/guides/using_interrupts/>Using Interrupts</a></li><li data-nav-id=/libarmcortex/guides/data_section_init/ title="How to Initialize the Data Section" class=dd-item><a href=/libarmcortex/guides/data_section_init/>How to Initialize the Data Section</a></li><li data-nav-id=/libarmcortex/guides/system_timer_usage/ title="System Timer Usage" class=dd-item><a href=/libarmcortex/guides/system_timer_usage/>System Timer Usage</a></li><li data-nav-id=/libarmcortex/guides/dwt_usage/ title="D.ebug W.atchdog T.race (DWT) counter usage" class=dd-item><a href=/libarmcortex/guides/dwt_usage/>D.ebug W.atchdog T.race (DWT) counter usage</a></li></ul></li><li data-nav-id=/libarmcortex/api/ title=API class="dd-item parent"><a href=/libarmcortex/api/><b>3. </b>API</a><ul><li data-nav-id=/libarmcortex/api/classes/ title=Classes class="dd-item parent alwaysopen"><a href=/libarmcortex/api/classes/>Classes</a><ul><li data-nav-id=/libarmcortex/api/classes/classembed_1_1cortex__m_1_1dwt__counter/ title=embed::cortex_m::dwt_counter class=dd-item><a href=/libarmcortex/api/classes/classembed_1_1cortex__m_1_1dwt__counter/>embed::cortex_m::dwt_counter</a></li><li data-nav-id=/libarmcortex/api/classes/structembed_1_1cortex__m_1_1dwt__counter_1_1core__debug__registers__t/ title=embed::cortex_m::dwt_counter::core_debug_registers_t class=dd-item><a href=/libarmcortex/api/classes/structembed_1_1cortex__m_1_1dwt__counter_1_1core__debug__registers__t/>embed::cortex_m::dwt_counter::core_debug_registers_t</a></li><li data-nav-id=/libarmcortex/api/classes/structembed_1_1cortex__m_1_1dwt__counter_1_1dwt__registers__t/ title=embed::cortex_m::dwt_counter::dwt_registers_t class=dd-item><a href=/libarmcortex/api/classes/structembed_1_1cortex__m_1_1dwt__counter_1_1dwt__registers__t/>embed::cortex_m::dwt_counter::dwt_registers_t</a></li><li data-nav-id=/libarmcortex/api/classes/classembed_1_1cortex__m_1_1interrupt/ title=embed::cortex_m::interrupt class=dd-item><a href=/libarmcortex/api/classes/classembed_1_1cortex__m_1_1interrupt/>embed::cortex_m::interrupt</a></li><li data-nav-id=/libarmcortex/api/classes/structembed_1_1cortex__m_1_1interrupt_1_1invalid__irq/ title=embed::cortex_m::interrupt::invalid_irq class=dd-item><a href=/libarmcortex/api/classes/structembed_1_1cortex__m_1_1interrupt_1_1invalid__irq/>embed::cortex_m::interrupt::invalid_irq</a></li><li data-nav-id=/libarmcortex/api/classes/classembed_1_1cortex__m_1_1interrupt_1_1irq__t/ title=embed::cortex_m::interrupt::irq_t class=dd-item><a href=/libarmcortex/api/classes/classembed_1_1cortex__m_1_1interrupt_1_1irq__t/>embed::cortex_m::interrupt::irq_t</a></li><li data-nav-id=/libarmcortex/api/classes/structembed_1_1cortex__m_1_1interrupt_1_1nvic__register__t/ title=embed::cortex_m::interrupt::nvic_register_t class=dd-item><a href=/libarmcortex/api/classes/structembed_1_1cortex__m_1_1interrupt_1_1nvic__register__t/>embed::cortex_m::interrupt::nvic_register_t</a></li><li data-nav-id=/libarmcortex/api/classes/structembed_1_1cortex__m_1_1interrupt_1_1vector__table__not__initialized/ title=embed::cortex_m::interrupt::vector_table_not_initialized class=dd-item><a href=/libarmcortex/api/classes/structembed_1_1cortex__m_1_1interrupt_1_1vector__table__not__initialized/>embed::cortex_m::interrupt::vector_table_not_initialized</a></li><li data-nav-id=/libarmcortex/api/classes/classembed_1_1cortex__m_1_1system__control/ title=embed::cortex_m::system_control class="dd-item active"><a href=/libarmcortex/api/classes/classembed_1_1cortex__m_1_1system__control/>embed::cortex_m::system_control</a></li><li data-nav-id=/libarmcortex/api/classes/structembed_1_1cortex__m_1_1system__control_1_1scb__registers__t/ title=embed::cortex_m::system_control::scb_registers_t class=dd-item><a href=/libarmcortex/api/classes/structembed_1_1cortex__m_1_1system__control_1_1scb__registers__t/>embed::cortex_m::system_control::scb_registers_t</a></li><li data-nav-id=/libarmcortex/api/classes/classembed_1_1cortex__m_1_1systick__timer/ title=embed::cortex_m::systick_timer class=dd-item><a href=/libarmcortex/api/classes/classembed_1_1cortex__m_1_1systick__timer/>embed::cortex_m::systick_timer</a></li><li data-nav-id=/libarmcortex/api/classes/structembed_1_1cortex__m_1_1systick__timer_1_1control__register/ title=embed::cortex_m::systick_timer::control_register class=dd-item><a href=/libarmcortex/api/classes/structembed_1_1cortex__m_1_1systick__timer_1_1control__register/>embed::cortex_m::systick_timer::control_register</a></li><li data-nav-id=/libarmcortex/api/classes/structembed_1_1cortex__m_1_1systick__timer_1_1registers/ title=embed::cortex_m::systick_timer::registers class=dd-item><a href=/libarmcortex/api/classes/structembed_1_1cortex__m_1_1systick__timer_1_1registers/>embed::cortex_m::systick_timer::registers</a></li></ul></li><li data-nav-id=/libarmcortex/api/modules/ title=Modules class="dd-item alwaysopen"><a href=/libarmcortex/api/modules/>Modules</a><ul></ul></li><li data-nav-id=/libarmcortex/api/namespaces/ title=Namespaces class="dd-item alwaysopen"><a href=/libarmcortex/api/namespaces/>Namespaces</a><ul><li data-nav-id=/libarmcortex/api/namespaces/namespaceembed/ title=embed class=dd-item><a href=/libarmcortex/api/namespaces/namespaceembed/>embed</a></li><li data-nav-id=/libarmcortex/api/namespaces/namespaceembed_1_1cortex__m/ title=embed::cortex_m class=dd-item><a href=/libarmcortex/api/namespaces/namespaceembed_1_1cortex__m/>embed::cortex_m</a></li></ul></li><li data-nav-id=/libarmcortex/api/pages/ title=Pages class="dd-item alwaysopen"><a href=/libarmcortex/api/pages/>Pages</a><ul></ul></li></ul></li><li data-nav-id=/libarmcortex/design/ title=Design class=dd-item><a href=/libarmcortex/design/><b>4. </b>Design</a><ul><li data-nav-id=/libarmcortex/design/design/ title=Design class=dd-item><a href=/libarmcortex/design/design/>Design</a></li></ul></li><li data-nav-id=/libarmcortex/contribution/ title=Contributing class=dd-item><a href=/libarmcortex/contribution/><b>6. </b>Contributing</a><ul></ul></li></ul><div id=shortcuts><div class=nav-title>More</div><ul><li><a class=padding href=/libarmcortex/><i><img height=150 src=https://upload.wikimedia.org/wikipedia/commons/b/b5/Conan_package_manager_logo.png style=height:1em></i> Search conan</a></li><li><a class=padding href=/libarmcortex/><i><img height=150 src=https://vcpkg.io/assets/mark/mark.svg style=height:1em></i> Search vcpkg</a></li><li><a class=padding href=https://github.com/SJSU-Dev2/libarmcortex><i class="fab fa-fw fa-github"></i> GitHub</a></li><li><a class=padding href=/libarmcortex/libarmcortex/showcase/><i class="fas fa-fw fa-camera"></i> Showcases</a></li><li><a class=padding href=/libarmcortex/libarmcortex/credits/><i class="fas fa-fw fa-bullhorn"></i> Credits</a></li></ul></div><div id=footer><p>Built with <a href=https://github.com/McShelby/hugo-theme-relearn><i class="fas fa-heart"></i></a> by <a href=https://gohugo.io/>Hugo</a></p></div></div></nav><div id=body><div id=overlay></div><div class="padding highlightable"><div id=top-bar><div id=breadcrumbs><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span><ol class=links itemscope itemtype=http://schema.org/BreadcrumbList><meta itemprop=itemListOrder content="Descending"><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="4"><a itemprop=item href=/libarmcortex/><span itemprop=name>Welcome</span></a> ></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="3"><a itemprop=item href=/libarmcortex/api/><span itemprop=name>API</span></a> ></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="2"><a itemprop=item href=/libarmcortex/api/classes/><span itemprop=name>Classes</span></a> ></li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><meta itemprop=position content="1"><a itemprop=item href=/libarmcortex/api/classes/classembed_1_1cortex__m_1_1system__control/ aria-disabled=true><span itemprop=name>embed::cortex_m::system_control</span></a></li></ol></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#public-classes>Public Classes</a></li><li><a href=#public-functions>Public Functions</a></li><li><a href=#public-attributes>Public Attributes</a></li><li><a href=#public-functions-documentation>Public Functions Documentation</a><ul><li><a href=#function-scb>function scb</a></li><li><a href=#function-initialize_floating_point_unit>function initialize_floating_point_unit</a></li><li><a href=#function-set_interrupt_vector_table_address>function set_interrupt_vector_table_address</a></li><li><a href=#function-get_interrupt_vector_table_address>function get_interrupt_vector_table_address</a></li></ul></li><li><a href=#public-attributes-documentation>Public Attributes Documentation</a><ul><li><a href=#variable-scb_address>variable scb_address</a></li></ul></li></ul></nav></div></div></div><div id=head-tags></div><main id=body-inner><h1>embed::cortex_m::system_control</h1><p><strong>embed::cortex_m::system_control Class Reference</strong></p><p>Driver for controlling and inspect various aspects of the Cortex Mx Systems such as interrupt vector table location, fault address locations and fpu (coprocessor) control.</p><p><code>#include &lt;system_control.hpp></code></p><h2 id=public-classes>Public Classes</h2><table><thead><tr><th></th><th>Name</th></tr></thead><tbody><tr><td>struct</td><td><strong><a href=classes/structembed_1_1cortex__m_1_1system__control_1_1scb__registers__t/>scb_registers_t</a></strong> Structure type to access the System Control Block (SCB).</td></tr></tbody></table><h2 id=public-functions>Public Functions</h2><table><thead><tr><th></th><th>Name</th></tr></thead><tbody><tr><td>auto *</td><td><strong><a href=classes/classembed_1_1cortex__m_1_1system__control/#function-scb>scb</a></strong>()</td></tr><tr><td>void</td><td><strong><a href=classes/classembed_1_1cortex__m_1_1system__control/#function-initialize-floating-point-unit>initialize_floating_point_unit</a></strong>()Enable the floating point unit coprocessor within Cortex M4 and above processor.</td></tr><tr><td>void</td><td><strong><a href=classes/classembed_1_1cortex__m_1_1system__control/#function-set-interrupt-vector-table-address>set_interrupt_vector_table_address</a></strong>(void * p_table_location)Set the address of the systems interrupt vector table.</td></tr><tr><td>void *</td><td><strong><a href=classes/classembed_1_1cortex__m_1_1system__control/#function-get-interrupt-vector-table-address>get_interrupt_vector_table_address</a></strong>()Get the address of the systems interrupt vector table.</td></tr></tbody></table><h2 id=public-attributes>Public Attributes</h2><table><thead><tr><th></th><th>Name</th></tr></thead><tbody><tr><td>constexpr intptr_t</td><td><strong><a href=classes/classembed_1_1cortex__m_1_1system__control/#variable-scb-address>scb_address</a></strong> System control block address.</td></tr></tbody></table><h2 id=public-functions-documentation>Public Functions Documentation</h2><h3 id=function-scb>function scb</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>inline</span> <span style=color:#66d9ef>auto</span> <span style=color:#f92672>*</span> scb()
</span></span></code></pre></div><p><strong>Return</strong>: auto* - Address of the Cortex M system control block register</p><h3 id=function-initialize_floating_point_unit>function initialize_floating_point_unit</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>inline</span> <span style=color:#66d9ef>void</span> initialize_floating_point_unit()
</span></span></code></pre></div><p>Enable the floating point unit coprocessor within Cortex M4 and above processor.</p><h3 id=function-set_interrupt_vector_table_address>function set_interrupt_vector_table_address</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>inline</span> <span style=color:#66d9ef>void</span> set_interrupt_vector_table_address(
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>void</span> <span style=color:#f92672>*</span> p_table_location
</span></span><span style=display:flex><span>)
</span></span></code></pre></div><p>Set the address of the systems interrupt vector table.</p><p><strong>Parameters</strong>:</p><ul><li><strong>p_table_location</strong> - address of the interrupt vector table.</li></ul><p>The interrupt vector table (IVT) is held in ROM which means that, either the interrupt service routines (ISR) had to be defined at compile time making them immutable at runtime, or that each ISR calls a mutable function pointer which can be changed at runtime.</p><p>The problem with the first option is that it makes writing and using libraries difficult. Usually requiring updates to the IVT manually by the application designer based on what libraries and drivers the application is using.</p><p>The second solution has a problem where the additional another layer of indirection increases interrupt latency. A more critical problem of this approach is that many ISRs take advantage of the state of the system when the ISR runs. For example, context switching in an RTOS needs to be able to see the address of where code was when the interrupt occurred and having an additional point of indirection (i.e. calling a function pointer) will change that location from the task to the ISR that called the context switch function. This will usually result in a fault of some sort.</p><p>Creating an interrupt vector table in RAM and relocating the ISRs there consumes RAM space, but gives great flexibility over the table at runtime.</p><h3 id=function-get_interrupt_vector_table_address>function get_interrupt_vector_table_address</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>inline</span> <span style=color:#66d9ef>void</span> <span style=color:#f92672>*</span> get_interrupt_vector_table_address()
</span></span></code></pre></div><p>Get the address of the systems interrupt vector table.</p><p><strong>Return</strong>: void* - address within VTOR the interrupt vector table relocation register.</p><p>On reset the VTOR register is set to 0x0000'0000 or nullptr.</p><h2 id=public-attributes-documentation>Public Attributes Documentation</h2><h3 id=variable-scb_address>variable scb_address</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cpp data-lang=cpp><span style=display:flex><span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>constexpr</span> intptr_t scb_address <span style=color:#f92672>=</span> <span style=color:#ae81ff>0xE000&#39;ED00UL</span>;
</span></span></code></pre></div><p>System control block address.</p><hr><p>Updated on 2022-04-03 at 12:30:02 +0000</p><footer class=footline></footer></main></div><div id=navigation><a class="nav nav-prev" href=/libarmcortex/api/classes/structembed_1_1cortex__m_1_1interrupt_1_1vector__table__not__initialized/ title=embed::cortex_m::interrupt::vector_table_not_initialized><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/libarmcortex/api/classes/structembed_1_1cortex__m_1_1system__control_1_1scb__registers__t/ title=embed::cortex_m::system_control::scb_registers_t><i class="fa fa-chevron-right"></i></a></div></div><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/libarmcortex/js/clipboard.min.js?1648989002></script>
<script src=/libarmcortex/js/perfect-scrollbar.min.js?1648989002></script>
<script src=/libarmcortex/js/perfect-scrollbar.jquery.min.js?1648989002></script>
<script src=/libarmcortex/js/jquery.svg.pan.zoom.js?1648989002></script>
<script src=/libarmcortex/js/featherlight.min.js?1648989002></script>
<script src=/libarmcortex/js/modernizr.custom-3.6.0.js?1648989002></script>
<script src=/libarmcortex/js/mermaid.min.js?1648989002></script>
<script>typeof mermaid!="undefined"&&typeof mermaid.mermaidAPI!="undefined"&&mermaid.mermaidAPI.initialize(Object.assign({securityLevel:"antiscript"},JSON.parse('{ "startOnLoad": true }'),{startOnLoad:!1}))</script><script src=/libarmcortex/js/relearn.js?1648989002></script></body></html>