<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libarmcortex API: embed::cortex_m::dwt_counter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">libarmcortex API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>embed</b></li><li class="navelem"><b>cortex_m</b></li><li class="navelem"><a class="el" href="classembed_1_1cortex__m_1_1dwt__counter.html">dwt_counter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classembed_1_1cortex__m_1_1dwt__counter-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">embed::cortex_m::dwt_counter Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A counter with a frequency fixed to the CPU clock rate.  
 <a href="classembed_1_1cortex__m_1_1dwt__counter.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="dwt__counter_8hpp_source.html">dwt_counter.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for embed::cortex_m::dwt_counter:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classembed_1_1cortex__m_1_1dwt__counter__inherit__graph.svg" width="158" height="127"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for embed::cortex_m::dwt_counter:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="classembed_1_1cortex__m_1_1dwt__counter__coll__graph.svg" width="158" height="127"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structembed_1_1cortex__m_1_1dwt__counter_1_1core__debug__registers__t.html">core_debug_registers_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure type to access the Core Debug Register (CoreDebug)  <a href="structembed_1_1cortex__m_1_1dwt__counter_1_1core__debug__registers__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structembed_1_1cortex__m_1_1dwt__counter_1_1dwt__registers__t.html">dwt_registers_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure type to access the Data Watchpoint and Trace Register (DWT).  <a href="structembed_1_1cortex__m_1_1dwt__counter_1_1dwt__registers__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acb5be7061261b5e23b1c7af99283df3a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classembed_1_1cortex__m_1_1dwt__counter.html#acb5be7061261b5e23b1c7af99283df3a">dwt_counter</a> (embed::frequency p_cpu_frequency) noexcept</td></tr>
<tr class="memdesc:acb5be7061261b5e23b1c7af99283df3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new dwt counter object.  <a href="classembed_1_1cortex__m_1_1dwt__counter.html#acb5be7061261b5e23b1c7af99283df3a">More...</a><br /></td></tr>
<tr class="separator:acb5be7061261b5e23b1c7af99283df3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05ed772d18aee690a661667ca5bdbf01"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classembed_1_1cortex__m_1_1dwt__counter.html#a05ed772d18aee690a661667ca5bdbf01">register_cpu_frequency</a> (embed::frequency p_cpu_frequency) noexcept</td></tr>
<tr class="memdesc:a05ed772d18aee690a661667ca5bdbf01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inform the driver of the operating frequency of the CPU in order to generate the correct uptime.  <a href="classembed_1_1cortex__m_1_1dwt__counter.html#a05ed772d18aee690a661667ca5bdbf01">More...</a><br /></td></tr>
<tr class="separator:a05ed772d18aee690a661667ca5bdbf01"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ae177355faa38348e6f18df762472c156"><td class="memItemLeft" align="right" valign="top">static auto *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classembed_1_1cortex__m_1_1dwt__counter.html#ae177355faa38348e6f18df762472c156">dwt</a> () noexcept</td></tr>
<tr class="separator:ae177355faa38348e6f18df762472c156"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1eb94eae63f38951a8cd1e1d01ab273"><td class="memItemLeft" align="right" valign="top">static auto *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classembed_1_1cortex__m_1_1dwt__counter.html#ad1eb94eae63f38951a8cd1e1d01ab273">core</a> () noexcept</td></tr>
<tr class="separator:ad1eb94eae63f38951a8cd1e1d01ab273"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ac6a7f148013497387255425c5becbeb6"><td class="memItemLeft" align="right" valign="top">static constexpr unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classembed_1_1cortex__m_1_1dwt__counter.html#ac6a7f148013497387255425c5becbeb6">core_trace_enable</a> = 1 &lt;&lt; 24U</td></tr>
<tr class="memdesc:ac6a7f148013497387255425c5becbeb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This bit must be set to 1 to enable use of the trace and debug blocks:  <a href="classembed_1_1cortex__m_1_1dwt__counter.html#ac6a7f148013497387255425c5becbeb6">More...</a><br /></td></tr>
<tr class="separator:ac6a7f148013497387255425c5becbeb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a454a531ee77457d838d6082ba2d918e5"><td class="memItemLeft" align="right" valign="top"><a id="a454a531ee77457d838d6082ba2d918e5" name="a454a531ee77457d838d6082ba2d918e5"></a>
static constexpr unsigned&#160;</td><td class="memItemRight" valign="bottom"><b>enable_cycle_count</b> = 1 &lt;&lt; 0</td></tr>
<tr class="memdesc:a454a531ee77457d838d6082ba2d918e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mask for turning on cycle counter. <br /></td></tr>
<tr class="separator:a454a531ee77457d838d6082ba2d918e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95f119acdb169c00386af9373062d3ba"><td class="memItemLeft" align="right" valign="top"><a id="a95f119acdb169c00386af9373062d3ba" name="a95f119acdb169c00386af9373062d3ba"></a>
static constexpr intptr_t&#160;</td><td class="memItemRight" valign="bottom"><b>dwt_address</b> = 0xE0001000UL</td></tr>
<tr class="memdesc:a95f119acdb169c00386af9373062d3ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address of the hardware DWT registers. <br /></td></tr>
<tr class="separator:a95f119acdb169c00386af9373062d3ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a671345582d96853b62628de8361e2be6"><td class="memItemLeft" align="right" valign="top"><a id="a671345582d96853b62628de8361e2be6" name="a671345582d96853b62628de8361e2be6"></a>
static constexpr intptr_t&#160;</td><td class="memItemRight" valign="bottom"><b>core_debug_address</b> = 0xE000EDF0UL</td></tr>
<tr class="memdesc:a671345582d96853b62628de8361e2be6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Address of the Cortex M CoreDebug module. <br /></td></tr>
<tr class="separator:a671345582d96853b62628de8361e2be6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >A counter with a frequency fixed to the CPU clock rate. </p>
<p >This driver is supported for Cortex M3 devices and above. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="acb5be7061261b5e23b1c7af99283df3a" name="acb5be7061261b5e23b1c7af99283df3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb5be7061261b5e23b1c7af99283df3a">&#9670;&nbsp;</a></span>dwt_counter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">embed::cortex_m::dwt_counter::dwt_counter </td>
          <td>(</td>
          <td class="paramtype">embed::frequency&#160;</td>
          <td class="paramname"><em>p_cpu_frequency</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct a new dwt counter object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_cpu_frequency</td><td>- the operating frequency of the CPU </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad1eb94eae63f38951a8cd1e1d01ab273" name="ad1eb94eae63f38951a8cd1e1d01ab273"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1eb94eae63f38951a8cd1e1d01ab273">&#9670;&nbsp;</a></span>core()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static auto * embed::cortex_m::dwt_counter::core </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>auto* - Address of the Core Debug module </dd></dl>

</div>
</div>
<a id="ae177355faa38348e6f18df762472c156" name="ae177355faa38348e6f18df762472c156"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae177355faa38348e6f18df762472c156">&#9670;&nbsp;</a></span>dwt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static auto * embed::cortex_m::dwt_counter::dwt </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>auto* - Address of the DWT peripheral </dd></dl>

</div>
</div>
<a id="a05ed772d18aee690a661667ca5bdbf01" name="a05ed772d18aee690a661667ca5bdbf01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05ed772d18aee690a661667ca5bdbf01">&#9670;&nbsp;</a></span>register_cpu_frequency()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void embed::cortex_m::dwt_counter::register_cpu_frequency </td>
          <td>(</td>
          <td class="paramtype">embed::frequency&#160;</td>
          <td class="paramname"><em>p_cpu_frequency</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inform the driver of the operating frequency of the CPU in order to generate the correct uptime. </p>
<p >Use this when the CPU's operating frequency has changed and no longer matches the frequency supplied to the constructor. Care should be taken when expecting this function when there is the potentially other parts of the system that depend on this counter's uptime to operate.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_cpu_frequency</td><td>- the operating frequency of the CPU </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ac6a7f148013497387255425c5becbeb6" name="ac6a7f148013497387255425c5becbeb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6a7f148013497387255425c5becbeb6">&#9670;&nbsp;</a></span>core_trace_enable</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr unsigned embed::cortex_m::dwt_counter::core_trace_enable = 1 &lt;&lt; 24U</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This bit must be set to 1 to enable use of the trace and debug blocks: </p>
<ul>
<li>Data Watchpoint and Trace (DWT)</li>
<li>Instrumentation Trace Macrocell (ITM)</li>
<li>Embedded Trace Macrocell (ETM)</li>
<li>Trace Port Interface Unit (TPIU). </li>
</ul>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/github/workspace/include/libarmcortex/<a class="el" href="dwt__counter_8hpp_source.html">dwt_counter.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
